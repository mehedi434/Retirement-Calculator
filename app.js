/*
Author: Md. Mehedi Hasan.

This code has been minified, so it's hard to understand. If you need actual code, please knock me.
*/ 

function collapseButton(){let e=document.querySelector(".info-3-part1 button"),t=1;e.addEventListener("click",()=>{let e=document.querySelector(".info-3-part2");t%2==0?e.classList.add("hidden"):e.classList.remove("hidden"),t++})}collapseButton(),document.querySelectorAll("input").forEach(e=>{e.addEventListener("keydown",function(e){["ArrowUp","ArrowDown","+","-"].includes(e.key)&&e.preventDefault()})}),form.addEventListener("submit",function(e){e.preventDefault()});let currentAgeStatus=!0,retireAgeStatus=!0,deathAgeStatus=!0,monthlyIncomeStatus=!0,currentSavingStatus=!0,monthlySavingStatus=!0,monthlyRetirementSpendingStatus=!0,investmentRateStatus=!0,currentAge=document.querySelector("#age").value,retireAge=document.querySelector("#retireAge").value,deathAge=document.querySelector("#deathAge").value,monthlyIncome=document.querySelector("#monthlyIncome").value,currentSaving=document.querySelector("#currentSavings").value,monthlySaving=document.querySelector("#monthlySavings").value,monthlyRetirementSpending=document.querySelector("#monthlySpendings").value,investmentRate=document.querySelector("#investmentRate").value,annualInvestment=investmentRate/100,annualInflation=.03,annualRetirement=.05,toMonth=1/12;function hv01(e,t,n,r,o){let a=e=>Math.pow(1+e,toMonth)-1;return function(){let r=t-e+toMonth,a=Math.pow(1+o,r);return n*a}()+function(){let n=12*(t-e),u=(Math.pow(1+a(o),n)-1)/a(o),l=1+a(o);return r*u*l}()}function nw02(e,t,n,r){let o=12*(n-t),a=e=>Math.pow(1+e,toMonth)-1,u=r*Math.pow(1+annualInflation,t-e);return annualRetirement!=annualInflation?u/(a(annualRetirement)-a(annualInflation))*(1-Math.pow((1+a(annualInflation))/(1+a(annualRetirement)),o)):annualRetirement==annualInflation?u/(a(annualRetirement)-a(annualInflation)-1e-4)*(1-Math.pow((1+a(annualInflation)+1e-4)/(1+a(annualRetirement)),o)):void 0}function inpV(){currentAge=document.querySelector("#age").value,monthlyIncome=document.querySelector("#monthlyIncome").value,currentSaving=document.querySelector("#currentSavings").value,monthlySaving=document.querySelector("#monthlySavings").value,monthlyRetirementSpending=document.querySelector("#monthlySpendings").value,retireAge=document.querySelector("#retireAge").value,deathAge=document.querySelector("#deathAge").value,investmentRate=document.querySelector("#investmentRate").value,annualInvestment=investmentRate/100;let e=document.querySelector(".currAgeError"),t=document.querySelector(".monthlyIncomeError"),n=document.querySelector(".currentSavingError"),r=document.querySelector(".monthlySaveError"),o=document.querySelector(".monthlyRetirementSpendingError"),a=document.querySelector(".retireAgeError"),u=document.querySelector(".deathAgeError"),l=document.querySelector(".investmentRateError");currentAge<18?(currentAgeStatus=!1,e.innerHTML="Age must be at least 18"):currentAge>90?(currentAgeStatus=!1,e.innerHTML="Age must be at most 90"):currentAge>=18&&currentAge<=90&&(currentAgeStatus=!0,e.innerHTML=""),monthlyIncome.value<0?(monthlyIncomeStatus=!1,t.innerHTML="Pre-tax income should be 0 or more."):monthlyIncome.value>9e6?(monthlyIncomeStatus=!1,t.innerHTML="Pre-tax income shouldn't be more than 9000000"):monthlyIncome.value>=0&&monthlyIncome.value<=9e6&&(monthlyIncomeStatus=!0,t.innerHTML=""),currentSaving.value<0?(currentSavingStatus=!1,n.innerHTML="Current savings should be 0 or more."):currentSaving.value>9e8?(currentSavingStatus=!1,n.innerHTML="Current savings shouldn't be more than 900000000"):currentSaving.value>=0&&currentSaving.value<=9e8&&(currentSavingStatus=!0,n.innerHTML=""),function(){let e=Math.round(100*monthlySaving/monthlyIncome),t=document.querySelector(".info-2 small.incomePercent");monthlySaving<0?(monthlySavingStatus=!1,t.classList.add("hidden"),r.innerHTML="Monthly income cannot be less than 0"):e>75?(monthlySavingStatus=!1,t.classList.add("hidden"),r.innerHTML="Montly income shouldn't be more than 75% of annual income"):monthlySaving>0&&e<75&&(monthlySavingStatus=!0,t.classList.remove("hidden"),r.innerHTML="")}(),monthlyRetirementSpending<0?(monthlyRetirementSpendingStatus=!1,o.innerHTML="Monthly retirement spending shouldn't be less than 0"):monthlyRetirementSpending>0&&(monthlyRetirementSpendingStatus=!0,o.innerHTML=""),retireAge<30?(retireAgeStatus=!1,a.innerHTML="Retire age should be equal or more than 30"):retireAge>85?(retireAgeStatus=!1,a.innerHTML="Retire age should be equal or less than 85"):retireAge>=30&&retireAge<=85&&(retireAgeStatus=!0,a.innerHTML=""),deathAge<71?(deathAgeStatus=!1,u.innerHTML="Death age should be equal or more than 71"):deathAge>120?(deathAgeStatus=!1,u.innerHTML="Death age should be equal or less than 120"):deathAge>=71&&deathAge<=120&&(deathAgeStatus=!0,u.innerHTML=""),investmentRate<0?(investmentRateStatus=!1,l.innerHTML="Investment Rate should be equal or more than 0"):investmentRate>15?(investmentRateStatus=!1,l.innerHTML="Investment Rate  should be equal or less than 15"):investmentRate>=0&&investmentRate<=15&&(investmentRateStatus=!0,l.innerHTML="")}function htasd(e,t){let n=()=>{let n=Math.round(100*e/t);return n<=0?n=0:n>=100&&(n=100),n};!function(){let e=Math.round(100*monthlySaving/monthlyIncome);document.querySelector(".info-2 small.incomePercent").innerHTML=`${e}% of my monthly income`}(),document.querySelector(".retireAgeShow").innerHTML=retireAge,function(){let n=document.querySelector(".have-amount"),r=document.querySelector(".need-amount");n.innerHTML=(e/1e6).toFixed(2)+"M",r.innerHTML=(t/1e6).toFixed(2)+"M"}(),document.querySelector(".percent").innerHTML=n()+"%",function(){let n,r=document.querySelector(".output .sub-have-bar"),o=document.querySelector(".output .sub-need-bar"),a=document.querySelector(".output .have-amount"),u=document.querySelector(".output .need-amount");e<t?(n=Math.round(100*e/t))<0?(r.style.height="99.5%",o.style.height="0%",a.style.top="78%",u.style.top="-20%"):(r.style.height=`${100-n}%`,o.style.height="0%",a.style.top=`${100-n-20}%`,u.style.top="-20%"):e>t&&(n=Math.round(100*t/e),console.log(n),n<=0?(console.log("exclude"),r.style.height="0%",o.style.height="99.5%",a.style.top="-20%",u.style.top="79.5%"):(r.style.height="0%",o.style.height=`${100-n}%`,a.style.top="-20%",u.style.top=`${100-n-20}%`))}(),function(){let e=document.querySelector(".attention-describe"),t=document.querySelector(".onWay-describe "),r=document.querySelector(".gettingClose-describe"),o=document.querySelector(".onTrack-describe"),a=document.querySelector(".horizontal-progress .move .space"),u=document.querySelector(".horizontal-progress .icon .iconSpace"),l=document.querySelector(".verticale-progress .have-bar");function i(n){[e,t,r,o].forEach(e=>{e==n?e.classList.remove("hidden"):e.classList.add("hidden")})}function c(){return n()>0&&n()<=65.5?.5*n():n()>=65.6&&n()<=80.5?32.095+1.87*(n()-65.5):n()>=80.6&&n()<=95.5?32.095+28.05+1.47*(n()-80.5):n()>=95.6&&n()<=100?82.195+3.44*(n()-95.5):void 0}function s(){return n()>0&&n()<=65.5?.344*n():n()>=65.6&&n()<=80.5?65.5*.344+1.87*(n()-65.5):n()>=80.6&&n()<=95.5?65.5*.344+28.05+1.43*(n()-80.5):n()>=95.6&&n()<=100?72.032+.67*(n()-95.5):void 0}n()>=0&&n()<=65.5?(i(e),u.style.flexBasis=`${c()}%`,a.style.flexBasis=`calc(${s()}% - 26px)`,l.style.backgroundColor="#fc6f56"):n()>=65.6&&n()<=80.5?(i(t),u.style.flexBasis=`${c()}%`,a.style.flexBasis=`calc(${s()}% - 12px)`,l.style.backgroundColor="#ffbf00"):n()>=80.6&&n()<=95.5?(i(r),u.style.flexBasis=`${c()}%`,a.style.flexBasis=`calc(${s()}% - 12px)`,l.style.backgroundColor="#1cacca"):n()>=95.6&&n()<=100&&(i(o),u.style.flexBasis=`${c()}%`,a.style.flexBasis=`calc(${s()}% - 12px)`,l.style.backgroundColor="#8fd832")}()}let allInput=[document.querySelector("#age"),document.querySelector("#retireAge"),document.querySelector("#deathAge"),document.querySelector("#monthlyIncome"),document.querySelector("#currentSavings"),document.querySelector("#monthlySavings"),document.querySelector("#monthlySpendings"),document.querySelector("#investmentRate")];allInput.forEach(e=>{e.addEventListener("keyup",()=>{inpV(),currentAgeStatus&&retireAgeStatus&&deathAgeStatus&&monthlyIncomeStatus&&currentSavingStatus&&monthlySavingStatus&&monthlyRetirementSpendingStatus&&investmentRateStatus&&htasd(hv01(currentAge,retireAge,currentSaving,monthlySaving,annualInvestment),nw02(currentAge,retireAge,deathAge,monthlyRetirementSpending))})});let increaseDecreaseBtn=document.querySelectorAll(".button-input button");increaseDecreaseBtn.forEach(e=>{e.addEventListener("click",()=>{let t=e.parentElement.parentElement.querySelector("input");"decrease"==e.className?"monthlySavings"==t.id?t.value=Number(t.value)-50:"monthlySpendings"==t.id?t.value=Number(t.value)-100:"retireAge"==t.id||"deathAge"==t.id?t.value=Number(t.value)-1:"investmentRate"==t.id&&(t.value=Number(t.value)-.5):"increase"==e.className&&("monthlySavings"==t.id?t.value=Number(t.value)+50:"monthlySpendings"==t.id?t.value=Number(t.value)+100:"retireAge"==t.id||"deathAge"==t.id?t.value=Number(t.value)+1:"investmentRate"==t.id&&(t.value=Number(t.value)+.5)),inpV(),currentAgeStatus&&retireAgeStatus&&deathAgeStatus&&monthlyIncomeStatus&&currentSavingStatus&&monthlySavingStatus&&monthlyRetirementSpendingStatus&&investmentRateStatus&&htasd(hv01(currentAge,retireAge,currentSaving,monthlySaving,annualInvestment),nw02(currentAge,retireAge,deathAge,monthlyRetirementSpending))})});
